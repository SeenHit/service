Hacash 挖矿规范、数据和服务接口文档
===

本文档包含 Hacash 挖矿相关的一系列数据和服务的运行方式和接口规范，用于开发第三方商业矿池、私人挖矿客户端或矿池统计服务等等业务。

1. 体系结构
---

我们采用“中继节点（Relay Nodes）”方式提供挖矿相关的数据接口服务，示意如下：

![miner relay service](miner_relay_service.png)


中继节点不仅是连接若干个挖矿客户端的服务端，也是所有挖矿相关的数据接口的服务端。一个 Hacash 全节点下面可以挂载若干个中继节点（基于TCP连接，连接数量视服务器性能是带宽大小而定），中继节点还可以串联（即中继节点作为服务端，下方再连接挂载若干个个中继节点），由此可以在一个全节点下方挂载理论上无数台挖矿客户端机器。

挖矿客户端（矿工机器）除了可连接到中继节点，有需要也可以直接连接到全节点。中继服务节点除了提供实时的挖矿相关的状态和数据、计算生成挖矿所需的数据准备材料，也可以统计和保存下连矿工的算力数据，并且提供算力统计数据的查询接口，为更上层的矿池整体算力计算和奖励分配计算提供统计信息数据。